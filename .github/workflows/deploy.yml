name: Deploy to EC2 and notify Discord

on:
  push:
    branches: [main]

jobs:
  deploy:
    runs-on: ubuntu-latest

    steps:
    - name: Checkout code
      uses: actions/checkout@v3

    # ì—¬ê¸°ì— í…ŒìŠ¤íŠ¸, ë¹Œë“œ, ë°°í¬ ìŠ¤í¬ë¦½íŠ¸ ì‚½ì…

    - name: Notify Discord
      if: ${{ success() }}
      uses: Ilshidur/action-discord@master
      with:
        webhook: ${{ secrets.DISCORD_WEBHOOK }}
        message: |
          ğŸš€ [ë°°í¬ ì„±ê³µ]
          â–« ë¸Œëœì¹˜: `main`
          â–« ì»¤ë°‹: ${{ github.sha }}
          â–« ë‹´ë‹¹ì: @kr_dev
